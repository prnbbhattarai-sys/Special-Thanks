<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>A Journey of Memories with Muna üå∏</title>
    <style>
        /* ======================= GLOBAL STYLES ======================= */
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: linear-gradient(to bottom, #fefefe, #f0f0ff); color: #333; }
        button { cursor: pointer; border-radius: 8px; padding: 8px 15px; margin: 5px; transition: 0.3s;touch-action: manipulation;-webkit-tap-highlight-color: transparent;user-select: none; }
        button:hover { background: #fffaea; transform: scale(1.05); }

        /* ======================= LOCK SCREEN ======================= */
        #lockScreen { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; background: linear-gradient(to right, #fefefe, #dcefff); text-align: center; }
        #lockScreen input { padding: 10px; margin: 10px; width: 200px; border-radius: 5px; border: 1px solid #ccc; }
        #lockScreen button { background: #8fd4ff; border: none; font-weight: bold; }
        .hint { color: #777; font-size: 0.9rem; }

        /* ======================= HERO SECTION ======================= */
        section { max-width: 900px; margin: auto; padding: 50px 20px; border-radius: 15px; }
        .hero { text-align: center; background: #ffe3f0; margin-top: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .hero h1 { font-size: 3rem; color: #ff69b4; }
        .hero p { font-size: 1.2rem; color: #555; }

        /* ======================= SECTIONS ======================= */
        section.content { display: none; animation: fadeIn 0.8s; }
        @keyframes fadeIn { from {opacity:0} to {opacity:1} }

        /* ======================= PHOTO TREASURE ======================= */
        #photoTreasure { text-align: center; margin: 20px 0; }
        #photoTreasure button { background: #ffb6c1; }
        .photo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px,1fr)); gap: 15px; margin-top: 20px; opacity:0; transform: scale(0.5); transition: 0.5s; }
        .photo-grid.show { opacity:1; transform: scale(1); }
        .photo-grid img { width: 100%; border-radius: 12px; cursor: pointer; transition: 0.3s; }
        .photo-grid img:hover { transform: scale(1.05); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .hidden { display: none; }
        .photo-item img { width: 100%; max-width: 600px; margin-top: 10px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: 0.3s; }
        .photo-item img:hover { transform: scale(1.05); }
        .photo-item button { background: #ffb6c1; border: none; font-weight: bold; padding: 10px 15px; margin: 5px 0; cursor: pointer; border-radius: 8px; }

        /* ======================= POEMS ======================= */
        .poem-card { background: #fff0f5; border-radius: 15px; padding: 25px; margin: 15px 0; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: 0.3s; transform-style: preserve-3d; }
        .poem-card:hover { transform: scale(1.02); }
        .poem-card.flipped { background: #ffe3f0; transform: rotateY(180deg) scale(1.05); }

        /* ======================= GAMES ======================= */
        .game { background: #e0f7fa; padding: 25px; margin: 20px 0; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
        .cards { display: grid; grid-template-columns: repeat(4, 70px); gap: 10px; justify-content: center; }
        .card { height: 70px; background: #ddd; display: flex; justify-content: center; align-items: center; font-size: 1.8rem; border-radius: 10px; cursor: pointer; transition: 0.3s; }
        .card:hover { transform: scale(1.1); background: #fff; }

        /* ======================= SCORE & PROGRESS ======================= */
        .score { text-align: center; font-size: 1.5rem; margin: 20px 0; }
        .progress { margin: 20px 0; }
        .bar { width: 100%; height: 18px; background: #ddd; border-radius: 10px; }
        #fill { height: 100%; width: 0%; background: linear-gradient(to right, #ffb6c1,#ff69b4); border-radius: 10px; transition:0.5s; }

        /* ======================= TIMELINE ======================= */
        .timeline-card { background: #fff8dc; padding: 20px; border-radius: 15px; margin: 15px 0; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }

        /* ======================= FINAL EASTER EGG ======================= */
        #secret { display:none; background: #fff0f5; padding: 30px; text-align: center; border-radius: 15px; box-shadow: 0 3px 15px rgba(0,0,0,0.2); }

        /* ======================= NAV BUTTONS ======================= */
        .nav-buttons { text-align: center; margin-top: 20px; }
        .nav-buttons button { background: #ffb6c1; position: relative; }

        /* ======================= FOOTER ======================= */
        footer { text-align:center; color:#777; margin:50px 0; }

        /* ======================= CONTENT CARDS ======================= */
        .story-card { background: #fffaf0; border-radius: 15px; padding: 20px; margin: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .story-card h3 { margin-top: 0; color:#ff69b4; }
        .story-card p { line-height: 1.6; }

        /* ======================= RESPONSIVE ======================= */
        @media(max-width: 500px){ .cards { grid-template-columns: repeat(2, 70px); } #chatContainer { width: 95%; } }
        .chat-box { max-width: 400px; margin: auto; padding: 15px; border-radius: 12px; background: #f4f4f4; font-family: system-ui; }
        .chat-area { height: 260px; overflow-y: auto; margin-bottom: 10px; }
        .msg { padding: 8px 12px; border-radius: 15px; margin: 6px 0; max-width: 75%; }
        .user { background: #007aff; color: white; margin-left: auto; }
        .bot { background: #e5e5ea; color: black; }
        .typing { font-size: 13px; color: gray; }

        @media screen and (max-width: 768px) {
            body { font-size: 16px; }
            section { padding: 25px 15px; margin: 0 10px; }
            .hero h1 { font-size: 2rem; }
            .hero p { font-size: 1rem; }
            button { width: 100%; padding: 12px; font-size: 1rem; }
            .nav-buttons { display: flex; flex-direction: column; gap: 10px; }
            .photo-item img { max-width: 100%; }
            #chatContainer { width: 100% !important; margin: 20px auto; }
            #chatBox { height: 180px; }
            input[type="text"] { font-size: 1rem; }
        }
    </style>
</head>
<body>
    <div id="lockScreen">
        <h1>üîê Private Keepsake for memories</h1>
        <p class="hint">Hint: your mobile password</p>
        <input type="password" id="passwordInput" placeholder="Enter password">
        <button onclick="checkPassword()">Unlock</button>
        <p id="errorMsg" style="color:red;"></p>
    </div>

    <div id="mainContent">
        <section class="hero content" id="step0">
            <h1>üå∏ A Journey of Memories with Muna üå∏</h1>
            <p>Welcome Muna! Every page is filled with our laughter, silly mistakes, poems, playful tricks, and moments only you and I share. üíñ</p>
            <p>Click below to start exploring‚Ä¶ but watch out, some buttons might run away! üòÑ</p>
            <div class="nav-buttons">
                <button data-original="Start the Journey ‚Üí" onclick="goNext(1)">Start the Journey ‚Üí</button>
            </div>
        </section>

        <section class="content" id="step1">
            <h2>üéì Where it all began, Muna</h2>
            <div class="story-card">
                <h3>First Meetings</h3>
                <p>‡§Æ‡•Å‡§®‡•Å, ‡§π‡§æ‡§Æ‡•Ä‡§≤‡•á ‡•¨ ‡§µ‡§∞‡•ç‡§∑‡§ï‡•ã ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§∏‡§Å‡§ó‡•à ‡§¨‡§ø‡§§‡§æ‡§Ø‡•å‡§Ç, ‡§ú‡§π‡§æ‡§Å ‡§π‡§æ‡§Å‡§∏‡•ã, ‡§∞‡§Æ‡§æ‡§á‡§≤‡•ã, ‡§∏‡§æ‡§π‡§∏‡§ø‡§ï ‡§Ö‡§®‡•Å‡§≠‡§µ, ‡§∏‚Äì‡§∏‡§æ‡§®‡§æ ‡§§‡§ø‡§®‡§ï‡§æ ‡§ù‡§ó‡§°‡§æ ‡§∞ ‡§†‡•Ç‡§≤‡•ã ‡§∏‡§æ‡§®‡§æ ‡§∏‡§Æ‡•ç‡§ù‡§®‡§æ‡§π‡§∞‡•Ç‡§≤‡•á ‡§π‡§æ‡§Æ‡•ç‡§∞‡•ã ‡§ú‡•Ä‡§µ‡§® ‡§∞‡§Ç‡§ó‡§ø‡§® ‡§¨‡§®‡§æ‡§Ø‡•ã‡•§ ‡§ï‡§≤‡•á‡§ú‡§ï‡•ã ‡§ó‡§≤‡•ç‡§≤‡•Ä‡§Æ‡§æ ‡§™‡§π‡§ø‡§≤‡•ã ‡§≠‡•á‡§ü‡§¶‡•á‡§ñ‡§ø ‡§≤‡§ø‡§è‡§∞, ‡§∏‚Äì‡§∏‡§æ‡§®‡§æ ‡§π‡§æ‡§Å‡§∏‡•ã‡§ï‡§æ ‡§™‡§≤, ‡§Ö‡§®‡•å‡§†‡§æ ‡§∏‡•á‡§≤‡•ç‡§´‡•Ä‡§π‡§∞‡•Ç, ‡§∏‡§Å‡§ó‡•à ‡§ò‡•Å‡§Æ‡•á‡§ï‡•ã ‡§∞‡§Æ‡§æ‡§á‡§≤‡•ã ‡§ò‡•Å‡§Æ‡§ò‡§æ‡§Æ, ‡§Æ‡§∏‡•ç‡§§‡•Ä, ‡§ö‡§ø‡§Ø‡§æ‚Äì‡§ï‡§´‡•Ä‡§ï‡§æ ‡§Æ‡§ú‡§æ, ‡§Ö‡§®‡§ø ‡§π‡§æ‡§Æ‡•ç‡§∞‡§æ ‡§ó‡§´‡§π‡§∞‡•Ç‡§≤‡•á ‡§π‡§∞‡•á‡§ï ‡§¶‡§ø‡§® ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§¨‡§®‡§æ‡§Ø‡•ã‡•§ ‡§π‡§æ‡§Æ‡•Ä‡§≤‡•á ‡§ß‡•á‡§∞‡•à ‡§ï‡•Å‡§∞‡§æ ‡§∏‡§ø‡§ï‡•ç‡§Ø‡•å‡§Ç‚Äî‡§∏‡§æ‡§• ‡§¶‡§ø‡§®‡•Å, ‡§è‡§ï‡§Ö‡§∞‡•ç‡§ï‡§æ‡§ï‡•ã ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§¨‡•Å‡§ù‡•ç‡§®‡•Å, ‡§Æ‡§æ‡§Ø‡§æ ‡§∞ ‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® ‡§ó‡§∞‡•ç‡§®‡•Å‡•§ ‡§π‡§æ‡§Æ‡•Ä ‡§Ö‡§≤‡§ó ‡§≠‡§Ø‡•å‡§Ç, ‡§§‡§∞ ‡§§‡•ç‡§Ø‡•ã ‡§∏‡§Æ‡•ç‡§¨‡§®‡•ç‡§ß‡§ï‡•ã ‡§Ö‡§®‡•ç‡§§‡•ç‡§Ø‡§≤‡•á ‡§ï‡•Å‡§®‡•à ‡§¶‡•Å‡§ñ ‡§π‡•ã‡§á‡§®, ‡§ï‡•á‡§µ‡§≤ ‡§π‡§æ‡§Æ‡•Ä ‡§¶‡•Å‡§¨‡•à‡§ï‡•ã ‡§≤‡§æ‡§ó‡§ø ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§∞ ‡§∏‡§Æ‡•ç‡§ù‡§®‡§æ‡§ï‡•ã ‡§ß‡§∞‡•ã‡§π‡§∞ ‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§õ‡•ã‡§°‡•ç‡§Ø‡•ã‡•§ ‡§Æ‡•Å‡§®‡•Å, ‡§Ø‡•Ä ‡•¨ ‡§µ‡§∞‡•ç‡§∑‡§ï‡•ã ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ‡§≤‡•á ‡§π‡§æ‡§Æ‡•Ä‡§≤‡§æ‡§à ‡§π‡§æ‡§Å‡§∏‡•ç‡§®, ‡§∞‡§Æ‡§æ‡§â‡§®, ‡§∞ ‡§ú‡•Ä‡§µ‡§®‡§ï‡•ã ‡§∏‡§æ‡§®‡•ã‚Äì‡§∏‡§æ‡§®‡§æ ‡§∞‡§Æ‡§æ‡§á‡§≤‡§æ ‡§™‡§≤‡§π‡§∞‡•Ç ‡§ï‡§¶‡§∞ ‡§ó‡§∞‡•ç‡§® ‡§∏‡§ø‡§ï‡§æ‡§Ø‡•ã‡•§ ‡§Æ ‡§§‡•Ä ‡§π‡§∞‡•á‡§ï ‡§™‡§ó‡•ç‡§≤‡§ø‡§è‡§ï‡§æ ‡§ñ‡•Å‡§∏‡§ø‡§ï‡§æ ‡§∞ ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§®‡§ï‡§æ ‡§ï‡•ç‡§∑‡§£‡§π‡§∞‡•Ç ‡§ï‡§π‡§ø‡§≤‡•ç‡§Ø‡•à ‡§≠‡•Å‡§≤‡•ç‡§¶‡§ø‡§®‡§Å‡•§ ‡§Ü‡§ú ‡§™‡§®‡§ø ‡§ú‡§¨ ‡§Æ ‡§§‡•Ä ‡§Ø‡§æ‡§¶‡§π‡§∞‡•Ç ‡§∏‡§Æ‡•ç‡§ù‡§®‡•ç‡§õ‡•Å, ‡§Æ‡§® ‡§≠‡§∞‡•Ä ‡§π‡§∞‡•ç‡§∑ ‡§∞ ‡§ï‡•É‡§§‡§ú‡•ç‡§û‡§§‡§æ‡§≤‡•á ‡§≠‡§∞‡§ø‡§®‡•ç‡§õ, ‡§∞ ‡§Æ ‡§Ü‡§∂‡§æ ‡§ó‡§∞‡•ç‡§õ‡•Å ‡§ï‡§ø ‡§§‡§ø‡§Æ‡•Ä ‡§™‡§®‡§ø ‡§§‡•Ä ‡§∏‡§¨‡•à ‡§∞‡§Æ‡§æ‡§á‡§≤‡§æ ‡§™‡§≤‡§π‡§∞‡•Ç‡§≤‡§æ‡§à ‡§π‡§æ‡§Å‡§∏‡•ç‡§¶‡•à ‡§∏‡§Æ‡•ç‡§ù‡§®‡•ç‡§õ‡•å‡•§ ‡§ú‡•Ä‡§µ‡§® ‡§®‡§ø‡§∞‡§®‡•ç‡§§‡§∞ ‡§Ö‡§ó‡§æ‡§°‡§ø ‡§¨‡§¢‡§ø‡§∞‡§π‡§®‡•ç‡§õ, ‡§∞ ‡§π‡§æ‡§Æ‡•ç‡§∞‡•ã ‡§Æ‡§ø‡§§‡•ç‡§∞‡§§‡§æ ‡§∞ ‡§∏‡§Æ‡•ç‡§ù‡§®‡§æ‡§≤‡•á ‡§∏‡§ß‡•à‡§Ç ‡§â‡§ú‡•ç‡§Ø‡§æ‡§≤‡•ã ‡§∞‡§π‡§ø‡§∞‡§π‡•ã‡§∏‡•ç ‡§≠‡§®‡•ç‡§®‡•á ‡§Æ‡•á‡§∞‡•ã ‡§ï‡§æ‡§Æ‡§®‡§æ ‡§õ‡•§ üåü</p>
            </div>
            <div class="nav-buttons">
                <button onclick="goNext(0)">‚Üê Back</button>
                <button data-original="Next ‚Üí" onclick="goNext(2)">Next ‚Üí</button>
            </div>
        </section>

        <section class="content" id="step2">
            <h2>üì¶ Press here to explore memories, Muna üòÑ</h2>
            <div id="photoTreasure">
                <div class="photo-item">
                    <button onclick="togglePhoto('photo1')">Muna's first smile caught on camera! üòÑ</button>
                    <img id="photo1" src="photos/img1.jpeg" alt="Muna's first smile" class="hidden">
                </div>
                <div class="photo-item">
                    <button onclick="togglePhoto('photo2')">Film day chasmebaddur </button>
                    <img id="photo2" src="photos/img2.jpeg" alt="Film day chasmebaddur" class="hidden">
                </div>
                <div class="photo-item">
                    <button onclick="togglePhoto('photo3')">Dramebaaz muna üéíüåè</button>
                    <img id="photo3" src="photos/img3.jpeg" alt="Dramebaaz muna" class="hidden">
                </div>
                <div class="photo-item">
                    <button onclick="togglePhoto('photo4')">Random selfie fail Muna üòú</button>
                    <img id="photo4" src="photos/img4.jpeg" alt="Selfie fail" class="hidden">
                </div>
                <div class="photo-item">
                    <button onclick="togglePhoto('photo5')">Kaam dherai garera dhaleko Muna üìöüíñ</button>
                    <img id="photo5" src="photos/img5.jpeg" alt="Behos muna" class="hidden">
                </div>
            </div>
            <div class="nav-buttons">
                <button onclick="goNext(1)">‚Üê Back</button>
                <button data-original="Next ‚Üí" onclick="goNext(3)">Next ‚Üí</button>
            </div>
        </section>

        <section class="content" id="step3">
            <h2>‚úçÔ∏è Poems & Thoughts for Muna</h2>
            <div class="poem-card" onclick="flipCard(this)">‡§∏‡§Æ‡§Ø‡§≤‡•á ‡§Ö‡§≤‡§ó ‡§™‡§æ‡§∞‡•ç‚Äç‡§Ø‡•ã, ‡§¶‡•ã‡§∑ ‡§ï‡§∏‡•à‡§ï‡•ã ‡§•‡§ø‡§è‡§®‡•§ ‡§§‡§∞ ‡§§‡§ø‡§Æ‡•Ä ‡§Æ‡•á‡§∞‡•ã ‡§ú‡•Ä‡§µ‡§®‡§Æ‡§æ ‡§∏‡§ß‡•à‡§Ç ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§¨‡§®‡•á‡§∞ ‡§∞‡§π‡•ç‡§Ø‡•å‡•§ üíï Muna</div>
            <div class="poem-card" onclick="flipCard(this)">Some meetings aren‚Äôt destinations; they are lessons. üå∏</div>
            <div class="poem-card" onclick="flipCard(this)">
                <p> Ma shayad kayar rahexu, ya ta shayad aile aaera bhaexu <br> hos shayad pailai gumaisakeko thiye maile <br> ya ta shayad aile behosi ma gaexu <br><br> shayad paagal nai thiye hola ma k soche kuni <br> ki ta soche hola yo nabhaye arko juni <br><br> tara k aaula ra muna testo kunai din? <br> jaha soche jhai hunxa jiwan rangin <br><br> tara hunna hola hai ma darpok bata testo <br> kasto paap lagera payau hola hai kta yesto <br><br> tara j hos muna dhoka diyo bhanaera na sarapnu <br> huna ta ma dhokebaz lai k, bas afno khayal chai rakhnu ü•û </p>
            </div>
            <div class="nav-buttons">
                <button onclick="goNext(2)">‚Üê Back</button>
                <button data-original="Next ‚Üí" onclick="goNext(4)">Next ‚Üí</button>
            </div>
        </section>

        <section class="content" id="step4">
            <h2>üéÆ Games for Muna</h2>
            <div class="game">
                <h2>üîÆ Magic Horscope Ball(Muna's Edition) </h2>
                <button onclick="revealMemory()">üîÆ Ask the Magic Ball</button>
                <p id="memoryDisplay"></p>
            </div>
            <div class="game">
                <h3>‚ùì Quiz</h3>
                <p>Muna, which matters more in life?</p>
                <button onclick="quiz(true)">Respect</button>
                <button onclick="quiz(false)">Ego</button>
                <p id="quizResult"></p>
            </div>
            <div class="game">
                <h3>üéØ Guess the Memory</h3>
                <p>Muna, where did we study together?</p>
                <button onclick="guessMemory(true)">College</button>
                <button onclick="guessMemory(false)">Office</button>
                <p id="guessResult"></p>
            </div>
            <div class="score">
                <p>‚≠ê Engagement Score: <span id="scoreValue">0</span></p>
            </div>
            <div class="progress">
                <div class="bar"><div id="fill"></div></div>
            </div>
            <div class="nav-buttons">
                <button onclick="goNext(3)">‚Üê Back</button>
                <button data-original="Next ‚Üí" onclick="goNext(5)">Next ‚Üí</button>
            </div>
        </section>

        <section class="content" id="step5">
            <h2>üïäÔ∏è Gratitude Timeline for Muna</h2>
            <div class="timeline-card">College days ‚Äì laughter, study, and dreams üåü</div>
            <div class="timeline-card">Support without conditions üí™üíñ</div>
            <div class="timeline-card">Respect after separation üå∏</div>
            <div class="timeline-card">Peace before moving on ‚ú®üïäÔ∏è</div>
            <div class="timeline-card">Secret inside jokes and little pranks üòÑ</div>
            <div class="nav-buttons">
                <button onclick="goNext(4)">‚Üê Back</button>
                <button data-original="Next ‚Üí" onclick="goNext(6)">Next ‚Üí</button>
            </div>
        </section>

        <section class="content" id="step6">
            <h2>üåü For Muna's Bright Future</h2>
            <div class="story-card">
                <h3>Your Nursing Dream</h3>
                <p>Muna, every dream you have is valid. Your kindness and patience will make you a remarkable nurse. üíñ</p>
            </div>
            <div class="story-card">
                <h3>Motivation for Life</h3>
                <p>Patience is your superpower üå±, challenges are stepping stones üöÄ. Keep your heart strong, your spirit bright! ‚ú®</p>
            </div>
            <div class="nav-buttons">
                <button onclick="goNext(5)">‚Üê Back</button>
                <button data-original="Next ‚Üí" onclick="goNext(7)">Next ‚Üí</button>
            </div>
        </section>

    <section class="content" id="step7">
            <h2>üíå A Final Thank You for Muna</h2>
            
            <div id="secret">
                <h3>üåü Easter Egg!</h3>
                <p>Muna, some people are remembered quietly ‚Äî and respectfully‚Ä¶ Thank you for being wonderful, kind, and unforgettable. üíñ</p>
                <p>May happiness follow you in every step, and may your dreams bloom like flowers every day! üå∏‚ú®</p>
            </div>

            <div id="genie-zone" style="text-align: center; margin: 30px 0; padding: 20px; background: #fdf2ff; border-radius: 20px; border: 2px solid #e0b0ff;">
                <h3 id="genie-instruction" style="color: #9b59b6; font-size: 1.1rem;">‚ú® Is there something you want to tell the real Pranab?</h3>
                <p style="font-size: 0.8rem; color: #888;">Tap the Genie & say "Pranab" 3 times...</p>
                
                <button id="genie-btn" onclick="rubLamp()" style="font-size: 3rem; background: none; border: none; transition: 0.3s; filter: drop-shadow(0 0 10px #d487ff);">üßû‚Äç‚ôÇÔ∏è</button>
                <p id="genie-count" style="font-weight: bold; color: #ff69b4; margin-top: 10px;"></p>
            </div>

            <div id="real-mailbox" style="display: none; animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); background: rgba(255, 240, 245, 0.9); border: 2px dashed #ffb6c1; margin: 20px 0; padding: 15px; border-radius: 15px;">
                <h3 style="color: #ff69b4; font-size: 1.1rem;">üì¨ Magic Mailbox Unlocked!</h3>
                <form id="contact-form" action="https://formspree.io/f/xjgewbon" method="POST" enctype="multipart/form-data" style="display: flex; flex-direction: column; gap: 8px;">
                    <input type="text" name="subject" placeholder="Subject..." required style="padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
                    <textarea name="message" placeholder="This goes straight to Pranab's email..." rows="3" required style="padding: 10px; border-radius: 8px; border: 1px solid #ddd; font-family: inherit;"></textarea>
                    <input type="file" name="upload" accept="image/*" style="font-size: 0.8rem;">
                    <button type="submit" id="form-submit-btn" style="background: #ff69b4; color: white; border: none; padding: 12px; border-radius: 10px; font-weight: bold;">Cast the Spell (Send) üöÄ</button>
                    <p id="form-status" style="display:none; color: #ff69b4; font-weight: bold; margin-top: 10px; text-align: center;">‚ú® Your message traveled through the stars to Pranab! ‚úÖ</p>
                </form>
            </div>

            <style>
                @keyframes popIn { 0% { transform: scale(0); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
                .shake { animation: shake 0.3s; }
                @keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-5px);} 75% {transform: translateX(5px);} }
            </style>

            <div class="nav-buttons">
                <button onclick="goNext(6)">‚Üê Back</button>
            </div>

            <div class="chat-box">
                <h3>üí¨ If you ever miss me, text me here</h3>
                <div id="chatArea" class="chat-area"></div>
                <div id="typing" class="typing" style="display:none;"> Pranab is typing<span class="dots">...</span> </div>
                <input type="text" id="userMsg" placeholder="Type here..." />
                <button onclick="sendMsg()">Send</button>
            </div>
        </section>

        <footer>
            <p>Private ‚Ä¢ Unshared ‚Ä¢ Complete ‚Ä¢ Made with ‚ù§Ô∏è for Muna</p>
        </footer>
    </div>

    <script>
        /* ======================= AI CHAT ======================= */
        const replies = [
            "Hey Muna! üòÑ How‚Äôs your day going?", "I was just thinking about you ‚ù§Ô∏è", "Miss you , hope you‚Äôre smiling!",
            "Khana khayau? üçïü•∞", "Remember our first bhet ? ü•ûüòÖ", "You always make me laugh üòÑ",
            "You make every moment specialüíñ", "Just wanted to say you can do it ", "How‚Äôs my favorite person doing? üòç",
            "I hope you slept well üò¥‚ú®", "Remember our first coffee together? ‚òïü•∞", "You‚Äôre my sunshine even on rainy days ‚òÄÔ∏èüåßÔ∏è",
            "You always brighten my day üåü", "Thinking of that time we got lost but laughed it off üòÇ",
            "You‚Äôre amazing, never forget that üíï", "How‚Äôs my superstar nurse doing? üå∏üí™", "Every moment with you is unforgettable ‚ù§Ô∏è",
            "I miss your laughter üò≠", "You make life so fun üòÑ", "You‚Äôre in my thoughts all the time üí≠‚ù§Ô∏è",
            "Sending you virtual hugs ü§óüíñ", "Remember our random selfie fails? üòú", "You inspire me every day ‚ú®",
            "You‚Äôre always in my heart üíì", "Hope you‚Äôre smiling right now üòò", "Can‚Äôt wait for our next adventure üåè",
            "You‚Äôre my favorite memory maker üíï", "Thinking of your sweet voice üé∂", "You make every day brighter üåü",
            "I love how kind you are üíñ", "Ma ta hamesha timro sath xu ‚ù§Ô∏è", "Timi bina life adhoora jasto cha üò¢",
            "K gharma sab thik cha? üòä", "Timro muskan herera din ramailo lagcha üå∏", "Timlai miss gariraxa üò≠",
            "Hami sath bhaye ramailo huney cha üòÑ", "Timro voice ko yaad aayo üé∂", "Timi ta mero sunshine jasto chau ‚òÄÔ∏è",
            "Sadhai smile gardai basnu üòç", "k xa hau runchi khabar üíï", "Yo memory ta yaad cha, funny thiyo üòÜ",
            "Timi ta ramro manis chau üå∏", "Timro din ramailo hoos bhanera aashaa garxu üíñ", "Timro muskan herera ma khushi chu üòÑ",
            "Sathma bhaye ta sab ramailo huney cha üåü", "Timi mero yaad ma sadhai chau üíì", "oe k ho jhagada ko yaad aayo k ho üò¢",
            "hasdeu na ta bro ekchoti üòç", "oe feri samjhe k ho maile ü§ó", "Timro din sukhad hoos bhanera pray garxu ‚ú®",
            "haseo haseo muna haseo ani k xa ta halli challi üòÑ"
        ];

        function sendMsg(){
            const input = document.getElementById("userMsg");
            if(!input.value) return;
            addMsg(input.value, "user");
            input.value = "";
            const typing = document.getElementById("typing");
            typing.style.display = "block";
            setTimeout(()=>{
                typing.style.display = "none";
                const reply = replies[Math.floor(Math.random()*replies.length)];
                addMsg("Pranab: " + reply, "bot");
            }, 1500);
        }

        function addMsg(text, cls){
            const div = document.createElement("div");
            div.className = "msg " + cls;
            div.innerText = text;
            const chatArea = document.getElementById("chatArea");
            chatArea.appendChild(div);
            chatArea.scrollTop = chatArea.scrollHeight;
        }
/* ======================= FORM HANDLING (NO REDIRECT) ======================= */
        const form = document.getElementById("contact-form");
        
        async function handleSubmit(event) {
          event.preventDefault(); // This stops the redirect!
          const status = document.getElementById("form-status");
          const btn = document.getElementById("form-submit-btn");
          const data = new FormData(event.target);
          
          btn.disabled = true;
          btn.innerText = "Sending...";

          fetch(event.target.action, {
            method: form.method,
            body: data,
            headers: { 'Accept': 'application/json' }
          }).then(response => {
            if (response.ok) {
              status.style.display = "block"; // Show the success message
              form.reset(); // Clear the form
              btn.style.display = "none"; // Hide the button
            } else {
              status.innerText = "Oops! Something went wrong.";
              status.style.display = "block";
              btn.disabled = false;
              btn.innerText = "Try Again";
            }
          }).catch(error => {
            status.innerText = "Oops! Network error.";
            status.style.display = "block";
            btn.disabled = false;
          });
        }
        form.addEventListener("submit", handleSubmit);
/* ======================= THE GENIE MAGIC ======================= */
        let rubCount = 0;
        function rubLamp() {
            rubCount++;
            const btn = document.getElementById("genie-btn");
            const countText = document.getElementById("genie-count");
            
            // Add shake effect
            btn.classList.add("shake");
            setTimeout(() => btn.classList.remove("shake"), 300);

            if (rubCount === 1) {
                countText.innerText = "Pranab...";
                btn.style.filter = "drop-shadow(0 0 20px #d487ff) hue-rotate(45deg)";
            } else if (rubCount === 2) {
                countText.innerText = "Pranab... Pranab...";
                btn.style.filter = "drop-shadow(0 0 30px #d487ff) hue-rotate(90deg)";
            } else if (rubCount === 3) {
                countText.innerText = "PRANAB!";
                // Puff away effect
                btn.style.transform = "scale(2)";
                btn.style.opacity = "0";
                
                setTimeout(() => {
                    document.getElementById("genie-zone").style.display = "none";
                    document.getElementById("real-mailbox").style.display = "block";
                    // Scroll to the form so she sees it
                    document.getElementById("real-mailbox").scrollIntoView({ behavior: 'smooth' });
                }, 500);
            }
        }
        /* ======================= LOCK SCREEN ======================= */
        function checkPassword(){
            const pass = document.getElementById("passwordInput").value;
            if(pass === "515841"){
                document.getElementById("lockScreen").style.display="none";
                goNext(0);
            } else {
                document.getElementById("errorMsg").innerText = "Incorrect! Try again.";
            }
        }

        /* ======================= STEP NAVIGATION ======================= */
        function goNext(step){
            document.querySelectorAll(".content").forEach(s=>s.style.display="none");
            document.getElementById("step"+step).style.display="block";
        }

        /* ======================= PHOTO FUNCTIONS ======================= */
        function togglePhoto(id){
            const img = document.getElementById(id);
            img.classList.toggle("hidden");
        }

        /* ======================= POEM FLIP ======================= */
        function flipCard(el){ el.classList.toggle("flipped"); }

        /* ======================= MAGIC BALL / QUIZ ======================= */
        let score = 0;
        function revealMemory(){
            const messages = [
                "‡§Æ‡•Å‡§®‡§æ‡§≤‡•á ‡§Ü‡§ú ‡§π‡§æ‡§Å‡§∏‡•ç‡§¶‡§æ ‡§Ü‡§∏‡§Æ‡§æ‡§® ‡§™‡§®‡§ø ‡§ù‡§ø‡§≤‡§ø‡§Æ‡§ø‡§≤‡•Ä ‡§π‡•Å‡§®‡•á‡§õ üåüüòÑ. Beware of socks hiding under the bed üß¶‚ú®.",
                "Your coffee will be stronger than your Wi-Fi today ‚òïüì∂. Don‚Äôt trust any momo that looks too perfect ü•üüòÇ.",
                "‡§Ü‡§ú ‡§§‡§ø‡§Æ‡•Ä‡§≤‡•á random dance ‡§ó‡§∞‡•ç‡§® ‡§Æ‡§® ‡§≤‡§æ‡§ó‡•ç‡§®‡•á‡§õ üíÉüòÜ. Remember, invisible monkeys approve üêíüíñ.",
                "Magic Ball predicts you‚Äôll find joy in small things, like perfectly folded laundry üß∫üòÑ. Beware of talking bhatmas ü•ú‚ú®.",
                "Today, Muna, you might accidentally text the wrong person üòÇüì±. Don‚Äôt worry, magical emojis will save the day ‚ú®üòÑ.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú library ‡§Æ‡§æ ‡§π‡§æ‡§Å‡§∏‡•ç‡§¶‡§æ ‡§∏‡§¨‡•à‡§≤‡§æ‡§à distract ‡§ó‡§∞‡•ç‡§®‡•á‡§õ‡•å üìöüòÑ. Extra chiya is mandatory ‚òïüíñ.",
                "Your momo flipping skills may cause minor chaos ü•üüòÜ. Beware of sudden giggle attacks üòÇ.",
                "‡§Ü‡§ú‡§ï‡•ã ‡§¶‡§ø‡§® ‡§§‡§ø‡§Æ‡•Ä‡§ï‡•ã smile ‡§≤‡•á world ‡§ú‡§ø‡§§‡•ç‡§®‡•á‡§õ üòÑüå∏. Random hugs from invisible fairies incoming üßö‚Äç‚ôÄÔ∏è‚ú®.",
                "Magic Ball sees a sudden craving for ice cream üç¶üòã. Nepali sel roti cravings might also hit ü•ØüòÑ.",
                "Today, Muna, your laughter might be contagious üòÑüíñ. Beware of monkeys stealing your snacks üêíüç™.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú ‡§Æ‡§∏‡•ç‡§§‡•Ä ‡§ó‡§∞‡•ç‡§® ‡§Æ‡§® ‡§≤‡§æ‡§ó‡•ç‡§®‡•á‡§õ üíÉüåü. Random compliments incoming from nowhere üòÜüíñ.",
                "Magic Ball predicts: someone will compliment your aura today ‚ú®üå∏. Beware of glitter explosions üß¥üòÇ.",
                "Today is perfect for silly selfies ü§≥üòÑ. Nepali chiya will taste extra magical ‚òïüíñ.",
                "‡§Æ‡•Å‡§®‡§æ‡§≤‡•á ‡§Ü‡§ú ‡§Ö‡§ö‡§æ‡§®‡§ï ‡§∞‡§Æ‡§æ‡§á‡§≤‡•ã ‡§ó‡§∞‡•ç‡§®‡•á‡§õ üåüüòÑ. Beware of sudden urge to dance in public üíÉüòÇ.",
                "Magic Ball says: chocolate makes everything better üç´üòã. Bhuteko achar might cause magical sneezes ü•¨üòÜ.",
                "Your aura shines brighter than the stars ‚ú®üåå. Random giggles might happen at serious moments üòÇüòÑ.",
                "‡§Ü‡§ú ‡§§‡§ø‡§Æ‡•Ä‡§≤‡•á unexpected hug ‡§™‡§æ‡§â‡§®‡•á‡§õ‡•å ü§óüíñ. Beware of talking trees üå≥üòÜ.",
                "Magic Ball predicts: today is perfect for whispering jokes to your pillow üòÑüõèÔ∏è. Nepali street food cravings incoming ü•üüòã.",
                "Today, Muna, your laughter might be contagious üòÑüíñ. Beware of stray cows blocking the road üêÑüòÇ.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú phone ‡§Æ‡§æ random emojis ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ó‡§∞‡•ç‡§®‡•á‡§õ‡•å üì±üòÜ. Chiya will be your secret weapon ‚òï‚ú®.",
                "Magic Ball says: flipping momo might lead to magic sparks ü•ü‚ú®. Random compliments incoming üíñüòÑ.",
                "Your smile might light up the room today üòÑüåü. Beware of sock avalanches üß¶üòÇ.",
                "‡§Ü‡§ú‡§ï‡•ã ‡§¶‡§ø‡§® ‡§§‡§ø‡§Æ‡•Ä‡§≤‡•á ‡§ó‡§´ ‡§ó‡§∞‡•ç‡§¶‡§æ ‡§∏‡§¨‡•à ‡§π‡§æ‡§Å‡§∏‡•ç‡§®‡•á‡§õ‡•å üòÑüå∏. Nepali folk songs will make you dance üíÉüé∂.",
                "Magic Ball predicts: invisible fairies might bring you small gifts üßö‚Äç‚ôÄÔ∏è‚ú®. Extra sel roti is advised ü•Øüòã.",
                "Today is perfect for random selfies ü§≥üòÑ. Momo may start plotting üòÇ.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú library ‡§Æ‡§æ ‡§Ö‡§ö‡§æ‡§®‡§ï giggle attack ‡§π‡•Å‡§®‡•á‡§õ üìöüòÜ. Beware of invisible monkeys üêí‚ú®.",
                "Magic Ball says: hugs from pillows count as real hugs ü§óüõèÔ∏è. Nepali chiya will taste extra sweet ‚òïüíñ.",
                "Today, Muna, you might trip over your own feet üòÇüíÉ. Smile anyway‚Äîit looks magical üòÑ‚ú®.",
                "‡§Ü‡§ú ‡§§‡§ø‡§Æ‡•Ä‡§≤‡•á unexpected compliment ‡§™‡§æ‡§â‡§®‡•á‡§õ‡•å üíñüòÑ. Random chocolate cravings incoming üç´üòã.",
                "Magic Ball predicts: dancing in your room will bring cosmic blessings üíÉüåå. Beware of tikha achar explosions üå∂Ô∏èüòÇ.",
                "Your laughter might cause nearby humans to laugh uncontrollably üòÑüå∏. Invisible unicorns approve ü¶Ñ‚ú®.",
                "‡§Ü‡§ú‡§ï‡•ã ‡§¶‡§ø‡§® Nepali momo cravings ‡§¨‡§¢‡§º‡•ç‡§®‡•á‡§õ ü•üüòã. Chiya will save the day ‚òïüòÑ.",
                "Magic Ball says: random giggles are signs of happiness üòÜ‚ú®. Hug a pillow for extra luck ü§óüõèÔ∏è.",
                "Today is perfect for misplacing keys and laughing about it üîëüòÇ. Flying kites may cross your path ü™ÅüòÜ.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú random compliments ‡§¶‡§ø‡§®‡•á ‡§Æ‡§® ‡§≤‡§æ‡§ó‡•ç‡§®‡•á‡§õ üíñüòÑ. Beware of sudden dance urges üíÉ‚ú®.",
                "Magic Ball predicts: someone will send you an emoji that feels magical üòÑüì±. Nepali street food cravings incoming ü•üüòã.",
                "Your aura is shining like neon lights ‚ú®üòÜ. Random chiya gifts may appear ‚òïüíñ.",
                "‡§Ü‡§ú ‡§§‡§ø‡§Æ‡•Ä‡§≤‡•á phone ‡§Æ‡§æ emoji flood ‡§ó‡§∞‡•ç‡§®‡•á‡§õ‡•å üòÇüì±. Invisible fairies are cheering for you üßö‚Äç‚ôÄÔ∏è‚ú®.",
                "Magic Ball says: giggle at small things today üòÑ. Flying kites might steal your hat üé©üòÇ.",
                "Today, Muna, your smile is unstoppable üòÑüå∏. Nepali sel roti will taste like magic ü•Øüíñ.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú library ‡§Æ‡§æ ‡§Ö‡§ö‡§æ‡§®‡§ï dance attack ‡§π‡•Å‡§®‡•á‡§õ üìöüíÉ. Beware of invisible cat sabotage üê±üòÇ.",
                "Magic Ball predicts: hugs from pillows count as real hugs ü§óüõèÔ∏è. Chiya makes it even better ‚òïüòã.",
                "Your momo flipping skills might cause chaos ü•üüòÇ. Random giggles are guaranteed üòÑ.",
                "‡§Ü‡§ú‡§ï‡•ã ‡§¶‡§ø‡§® ‡§§‡§ø‡§Æ‡•Ä‡§≤‡•á unexpected dance ‡§ó‡§∞‡•ç‡§® ‡§Æ‡§® ‡§≤‡§æ‡§ó‡•ç‡§®‡•á‡§õ üíÉüòÜ. Nepali street food cravings incoming ü•üüòã.",
                "Magic Ball says: chiya + chocolate = cosmic joy ‚òïüç´‚ú®. Beware of sock avalanches üß¶üòÇ.",
                "Today, Muna, someone will compliment your aura üòÑüíñ. Invisible monkeys approve üêí‚ú®.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú random selfies ‡§≤‡§ø‡§®‡•á ‡§Æ‡§® ‡§≤‡§æ‡§ó‡•ç‡§®‡•á‡§õ ü§≥üòÜ. Bhuteko achar might try to escape ü•¨üòÇ.",
                "Magic Ball predicts: laughter is contagious üòÑ‚ú®. Nepali chiya will taste extra sweet ‚òïüíñ.",
                "Your smile might light up the room today üòÑüåü. Beware of sneaky socks üß¶üòÇ.",
                "‡§Ü‡§ú‡§ï‡•ã ‡§¶‡§ø‡§® ‡§§‡§ø‡§Æ‡•Ä‡§≤‡•á unexpected hug ‡§™‡§æ‡§â‡§®‡•á‡§õ‡•å ü§óüíñ. Random chocolate cravings incoming üç´üòã.",
                "Magic Ball says: dancing in your room will bring cosmic blessings üíÉüåå. Magic monkeys might revolt üêíüòÇ.",
                "Today is perfect for random giggles üòÑ. Nepali momo cravings will be strong ü•üüòã.",
                "‡§§‡§ø‡§Æ‡•Ä ‡§Ü‡§ú phone ‡§Æ‡§æ emoji flood ‡§ó‡§∞‡•ç‡§®‡•á‡§õ‡•å üì±üòÇ. Bhuteko achar might conspire ü•¨üòÜ.",
                "Magic Ball predicts: dancing in your room brings cosmic blessings üíÉüåå. Beware of sock avalanches üß¶üòÇ.",
                "Your aura shines like neon lights ‚ú®üòÜ. Nepali momo cravings will be irresistible ü•üüòã."
            ];
            document.getElementById("memoryDisplay").innerText = messages[Math.floor(Math.random()*messages.length)];
            updateScore(5);
        }

        function quiz(correct){
            document.getElementById("quizResult").innerText = correct ? "Correct! Respect always ‚ù§Ô∏è" : "Oops! Not this time üòÖ";
            updateScore(correct?10:0);
        }

        function guessMemory(correct){
            document.getElementById("guessResult").innerText = correct ? "Yes! College memories üå∏" : "Nope, not this one üòÑ";
            updateScore(correct?10:0);
        }

        function updateScore(points){
            score += points;
            if(score > 100) score=100;
            document.getElementById("scoreValue").innerText = score;
            document.getElementById("fill").style.width = score+"%";
            if(score >= 60) document.getElementById("secret").style.display="block";
        }
/* ======================= MOBILE-FRIENDLY RUNAWAY BUTTONS ======================= */
document.querySelectorAll(".nav-buttons button").forEach(btn => {
    const original = btn.dataset.original || btn.innerText;
    btn.dataset.original = original;

    // We only want the "Next" buttons to run away, not the "Back" buttons
    if (!original.includes("Back")) {
        // For Laptop/Desktop (Mouse)
        btn.addEventListener("mouseenter", () => {
            const x = Math.random() * 40 - 20;
            const y = Math.random() * 40 - 20;
            btn.style.transform = `translate(${x}px, ${y}px)`;
        });

        // For Mobile (Finger Touch)
        btn.addEventListener("touchstart", (e) => {
            // This makes the button jump as soon as she tries to tap it
            const x = Math.random() * 60 - 30;
            const y = Math.random() * 60 - 30;
            btn.style.transform = `translate(${x}px, ${y}px)`;
            
            // Optional: reset after a short delay so she can eventually click it
            setTimeout(() => {
                btn.style.transform = "translate(0,0)";
            }, 1000);
        });

        btn.addEventListener("mouseleave", () => {
            btn.style.transform = "translate(0,0)";
        });
    }
});
        
    </script>
</body>
</html>